{"version":3,"sources":["store/utils.ts","store/auth/auth.actions.ts","store/auth/auth.reducer.tsx","store/query/query.actions.ts","store/query/query.reducer.tsx","store/auth/auth.epics.ts","store/query/query.selectors.ts","store/query/query.epics.ts","store/query/utils.ts","store/root-epic.tsx","config.ts","store/root-reducer.tsx","services/index.ts","services/Github.ts","store/store.tsx","components/Nav.tsx","views/Login.tsx","views/Feed/Issue.tsx","views/Feed/Sidebar.tsx","views/Feed/NavFilter.tsx","views/Feed/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","fetchToken","createAsyncAction","logout","createAction","tokenReducer","createReducer","handleType","getType","request","state","action","status","data","undefined","error","success","payload","failure","combineReducers","token","setQuery","setSearchTerm","setSort","addRepo","rmRepo","addAuthor","rmAuthor","setAuthor","executeSearch","startPolling","stopPolling","setPollingTimer","initialState","search","repo","author","sort","active","count","interval","queryReducer","handleAction","actions","includes","concat","filter","name","resultsReducer","asOf","moment","format","pollingReducer","query","results","polling","epics","action$","state$","ajax","config","pipe","isActionOf","switchMap","post","api","auth","code","Accept","map","response","error_description","split","join","access_token","catchError","message","of","mapTo","push","basePath","paths","feed","getQueryString","createSelector","Object","entries","value","Array","isArray","length","flatMap","key","v","queryChanged","prevState","curState","JSON","stringify","router","location","pathname","pairwise","debounceTime","searchDebounceMs","replace","encodeURIComponent","ofType","REHYDRATE","url","slice","decodeURIComponent","reduce","acc","Boolean","merge","github","from","err","switchMapTo","timer","val","takeWhile","repeat","takeUntil","mergeMapTo","rootEpic","combineEpics","authEpics","queryEpics","apiBase","process","domain","history","clientId","login","services","graphql","searchQuery","headers","authorization","createBrowserHistory","epicMiddleware","createEpicMiddleware","dependencies","middlewares","createRouterMiddleware","enhancer","applyMiddleware","persistConfig","storage","whitelist","persistedReducer","persistReducer","connectRouter","store","createStore","persistor","persistStore","run","connect","isLoggedIn","dispatch","bindActionCreators","dispatchLogout","id","className","src","alt","href","onClick","dispatchfetchToken","qs","parse","authToken","useEffect","to","emojis","CONFUSED","EYES","HEART","HOORAY","LAUGH","ROCKET","THUMBS_DOWN","THUMBS_UP","title","number","createdAt","closedAt","repository","reactions","comments","owner","avatarUrl","style","maxHeight","borderRadius","verticalAlign","fromNow","edges","edge","node","content","r1","reaction","emoji","size","tooltip","totalCount","QueryStatus","toLowerCase","RefreshCountdown","seconds","color","add","FilterList","dispatchRmEntry","entry","i","FilterForm","dispatchAddEntry","placeholder","useState","setEntry","onSubmit","e","preventDefault","type","onChange","currentTarget","secondsUntilNextPoll","repos","dispatchAddRepo","dispatchRmRepo","authors","dispatchAddAuthor","dispatchRmAuthor","searchTerm","sortOptions","created","updated","interactions","flexGrow","UncontrolledDropdown","DropdownToggle","tag","DropdownMenu","DropdownItem","dispatchSetSearchTerm","dispatchSetSort","NavFilter","nodes","Issue","Sidebar","App","loading","basename","path","component","Login","Feed","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b3b1489d.chunk.js","sourcesContent":["import { compose } from \"redux\";\n\nexport const composeEnhancers =\n  (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n","import { createAction, createAsyncAction } from \"typesafe-actions\";\n\nexport const fetchToken = createAsyncAction(\n  \"AUTH/FETCH_TOKEN_REQUEST\",\n  \"AUTH/FETCH_TOKEN_SUCCESS\",\n  \"AUTH/FETCH_TOKEN_FAILURE\"\n)<string, string, string>();\n\nexport const logout = createAction(\"AUTH/LOGOUT\")();\n","import { combineReducers } from \"redux\";\nimport { createReducer, getType } from \"typesafe-actions\";\nimport { fetchToken, logout } from \"./auth.actions\";\nimport { Async } from \"../types\";\n\nexport type AuthState = Readonly<{\n  token: null | Async<string, string>;\n}>;\nconst initialState: AuthState = {\n  token: null\n};\n\nconst tokenReducer = createReducer(initialState.token)\n  .handleType(getType(fetchToken.request), (state, action) => ({\n    status: \"FETCHING\",\n    data: undefined,\n    error: undefined\n  }))\n  .handleType(getType(fetchToken.success), (state, action) => ({\n    status: \"SUCCESS\",\n    data: action.payload,\n    error: undefined\n  }))\n  .handleType(getType(fetchToken.failure), (state, action) => ({\n    status: \"FAILED\",\n    data: undefined,\n    error: action.payload\n  }))\n  .handleType(getType(logout), () => null);\n\n// TODO: Handle fetchToken.failure, fetchToken.start\n\nexport default combineReducers({\n  token: tokenReducer\n});\n","import { createAction, createAsyncAction } from \"typesafe-actions\";\nimport { IssuesSearchResult } from \"../../services/Github\";\nimport { QueryState } from \"./query.reducer\";\n\nexport const setQuery = createAction(\"QUERY/SET\")<QueryState[\"query\"]>();\nexport const setSearchTerm = createAction(\"QUERY/SET_SEARCH_TERM\")<string>();\nexport const setSort = createAction(\"QUERY/SET_SORT\")<string>();\n\nexport const addRepo = createAction(\"QUERY/REPO_ADD\")<string>();\nexport const rmRepo = createAction(\"QUERY/REPO_RM\")<string>();\n\nexport const addAuthor = createAction(\"QUERY/AUTHOR_ADD\")<string>();\nexport const rmAuthor = createAction(\"QUERY/AUTHOR_RM\")<string>();\nexport const setAuthor = createAction(\"QUERY/AUTHOR_SET\")<string>();\n\nexport const executeSearch = createAsyncAction(\n  \"QUERY/SEARCH_REQUEST\",\n  \"QUERY/SEARCH_SUCCESS\",\n  \"QUERY/SEARCH_FAILURE\"\n)<string, IssuesSearchResult, string>();\n\nexport const startPolling = createAction(\"QUERY/START_POLLING\")();\nexport const stopPolling = createAction(\"QUERY/STOP_POLLING\")();\nexport const setPollingTimer = createAction(\"QUERY/SET_POLLING_TIMER\")<\n  number\n>();\n","import { combineReducers } from \"redux\";\nimport { createReducer } from \"typesafe-actions\";\nimport * as actions from \"./query.actions\";\nimport { Async } from \"../types\";\nimport { IssuesSearchResult } from \"../../services/Github\";\nimport moment from \"moment\";\n\n// TODO: Clear query results on logout\nexport type QueryState = Readonly<{\n  query: {\n    search: string;\n    repo: string[];\n    author: string[];\n    sort: string;\n  };\n  results: null | (Async<IssuesSearchResult, string> & { asOf: string });\n  polling: {\n    active: boolean;\n    count: null | number;\n    interval: number;\n  };\n}>;\nconst initialState: QueryState = {\n  query: {\n    search: \"\",\n    repo: [],\n    author: [],\n    sort: \"created\"\n  },\n  results: null,\n  polling: {\n    active: true,\n    count: null,\n    interval: 5 * 60\n  }\n};\n\nconst queryReducer = createReducer(initialState.query)\n  .handleAction(actions.setSearchTerm, (state, { payload }) => ({\n    ...state,\n    search: payload\n  }))\n  .handleAction(actions.setQuery, (state, { payload }) => ({\n    ...initialState.query,\n    ...payload\n  }))\n  .handleAction(actions.setSort, (state, { payload }) => ({\n    ...state,\n    sort: payload\n  }))\n  .handleAction(actions.addRepo, ({ repo, ...state }, { payload }) => ({\n    ...state,\n    repo: repo.includes(payload) ? repo : repo.concat(payload)\n  }))\n  .handleAction(actions.rmRepo, ({ repo, ...state }, { payload }) => ({\n    ...state,\n    repo: repo.filter(name => name !== payload)\n  }))\n  .handleAction(actions.addAuthor, ({ author, ...state }, { payload }) => ({\n    ...state,\n    author: author.includes(payload) ? author : author.concat(payload)\n  }))\n  .handleAction(actions.rmAuthor, ({ author, ...state }, { payload }) => ({\n    ...state,\n    author: author.filter(name => name !== payload)\n  }))\n  .handleAction(actions.setAuthor, (state, { payload }) => ({\n    ...state,\n    author: [payload]\n  }));\n\nconst resultsReducer = createReducer(initialState.results)\n  .handleAction(actions.executeSearch.request, (state, action) => ({\n    status: \"FETCHING\",\n    data: state?.data,\n    error: undefined,\n    asOf: moment().format(\"LLL\")\n  }))\n  .handleAction(actions.executeSearch.success, (state, { payload }) => ({\n    status: \"SUCCESS\",\n    data: payload,\n    error: undefined,\n    asOf: moment().format(\"LLL\")\n  }))\n  .handleAction(actions.executeSearch.failure, (state, { payload }) => ({\n    status: \"FAILED\",\n    data: undefined,\n    error: payload,\n    asOf: moment().format(\"LLL\")\n  }));\n\nconst pollingReducer = createReducer(initialState.polling)\n  .handleAction(actions.startPolling, state => ({\n    ...state,\n    active: true\n  }))\n  .handleAction(actions.stopPolling, state => ({\n    ...state,\n    count: null,\n    active: false\n  }))\n  .handleAction(actions.setPollingTimer, (state, { payload }) => ({\n    ...state,\n    count: payload\n  }));\n\nexport default combineReducers({\n  query: queryReducer,\n  results: resultsReducer,\n  polling: pollingReducer\n});\n","import { push } from \"connected-react-router\";\nimport { of } from \"rxjs\";\nimport { catchError, filter, map, mapTo, switchMap } from \"rxjs/operators\"; // tslint:disable-line\nimport { isActionOf, RootEpic } from \"typesafe-actions\";\nimport { fetchToken } from \"./auth.actions\";\n\nconst fetchGithubToken: RootEpic = (action$, state$, { ajax, config }) =>\n  action$.pipe(\n    filter(isActionOf(fetchToken.request)),\n    switchMap(({ payload }) =>\n      ajax\n        .post(\n          config.api.auth,\n          { code: payload },\n          {\n            \"Content-Type\": \"application/json\",\n            Accept: \"application/json\"\n          }\n        )\n        .pipe(\n          map(response => response.response),\n          map(response =>\n            response.error\n              ? fetchToken.failure(\n                response.error_description.split(\"+\").join(\" \")\n              )\n              : response.access_token\n                ? fetchToken.success(response.access_token)\n                : fetchToken.failure(\"Received invalid access token\")\n          ),\n          catchError(message => of(fetchToken.failure(message)))\n        )\n    )\n  );\n\nconst redirectHomeAfterLogin: RootEpic = (action$, state$, { config }) =>\n  action$.pipe(\n    filter(isActionOf(fetchToken.success)),\n    mapTo(push(`${config.basePath}${config.paths.feed}`))\n  );\n\nexport const epics = [fetchGithubToken, redirectHomeAfterLogin];\n","import { createSelector } from \"reselect\";\nimport { QueryState } from \"./query.reducer\";\n\nconst getQuery = (query: QueryState[\"query\"]) => query;\n\n/**\n * Convert the query object into a Github compliant query string\n */\nexport const getQueryString = createSelector([getQuery], query =>\n  Object.entries(query)\n    // Ignore empty queries\n    .filter(([_, value]) => (Array.isArray(value) ? value.length : value))\n    // Break array values into array of key + value\n    .flatMap(([key, value]) =>\n      Array.isArray(value)\n        ? (value as Array<number | string>).map(v => [key, v])\n        : [[key, value]]\n    )\n    // Format as key:value\n    .map(([key, value]) => (key === \"search\" ? value : `${key}:${value}`))\n    .join(\" \")\n);\n","import { replace } from \"connected-react-router\";\nimport { ofType } from \"redux-observable\";\nimport { REHYDRATE } from \"redux-persist\";\nimport { concat, from, merge, of, timer } from \"rxjs\";\nimport {\n  catchError,\n  debounceTime,\n  filter,\n  map,\n  mergeMapTo,\n  pairwise,\n  repeat,\n  switchMap,\n  switchMapTo,\n  takeUntil,\n  takeWhile\n} from \"rxjs/operators\";\nimport { isActionOf, RootEpic, RootState } from \"typesafe-actions\";\nimport { fetchToken } from \"../auth/auth.actions\";\nimport {\n  executeSearch,\n  setPollingTimer,\n  setQuery,\n  startPolling,\n  stopPolling\n} from \"./query.actions\";\nimport { getQueryString } from \"./query.selectors\";\nimport { getQueryFromString } from \"./utils\";\n\nconst queryChanged = ([prevState, curState]: [RootState, RootState]) =>\n  JSON.stringify(prevState.query.query) !==\n  JSON.stringify(curState.query.query);\n\n/**\n * When our search parameters update, update URL\n */\nconst setUrl: RootEpic = (action$, state$, { config }) =>\n  // On query change\n  state$.pipe(\n    filter(\n      () =>\n        state$.value.router.location.pathname ===\n        `${config.basePath}${config.paths.feed}`\n    ),\n    pairwise(),\n    filter(queryChanged),\n    debounceTime(config.searchDebounceMs), // Without debounce, the app can feel sluggish when each keystroke updates the URL\n    map(([_, curState]) => curState.query.query),\n    map(query =>\n      replace({\n        ...state$.value.router.location,\n        search: `q=${encodeURIComponent(getQueryString(query))}`\n      })\n    )\n  );\n\n/**\n * When we load application, rehydrate query from URL\n */\nconst loadFromUrl: RootEpic = (action$, state$, { config }) =>\n  action$.pipe(\n    ofType(REHYDRATE),\n    filter(\n      () =>\n        state$.value.router.location.pathname ===\n        `${config.basePath}${config.paths.feed}`\n    ),\n    map(() =>\n      setQuery(\n        getQueryFromString(state$.value.router.location.search.slice(3)) // Slice to ignore '?q='\n      )\n    )\n  );\n\n/**\n * Trigger a search to Github in response to particular events\n */\nconst triggerSearchEpic: RootEpic = (action$, state$, { config }) =>\n  // Trigger search on...\n  merge(\n    // ... actions where login occurred\n    action$.pipe(filter(isActionOf(fetchToken.success))),\n\n    // ... actions where poll counter hits 0\n    action$.pipe(\n      filter(isActionOf(setPollingTimer)),\n      filter(({ payload }) => payload === 0)\n    ),\n\n    // ... states where compared to last state query has changed\n    state$.pipe(pairwise(), filter(queryChanged))\n  ).pipe(\n    // Only if user has an access token\n    filter(() => !!state$.value.auth.token?.data),\n    // Throttle search executions\n    debounceTime(config.searchDebounceMs),\n    // Execute search with computed query string\n    map(() => executeSearch.request(getQueryString(state$.value.query.query)))\n  );\n\n/**\n * When our app first hydrates on load, take action\n */\nconst rehydrationEpic: RootEpic = (action$, state$) =>\n  action$.pipe(\n    ofType(REHYDRATE),\n    mergeMapTo(\n      concat(\n        // Refresh our query results if we are logged in\n        of(\n          executeSearch.request(getQueryString(state$.value.query.query))\n        ).pipe(filter(() => !!state$.value.auth.token?.data)),\n\n        // Start polling if polling is set to active and we are logged in\n        of(startPolling()).pipe(\n          filter(() => !!state$.value.query.polling.active),\n          filter(() => !!state$.value.auth.token?.data)\n        )\n      )\n    )\n  );\n\nconst pollQuery: RootEpic = (action$, state$) =>\n  action$.pipe(\n    filter(isActionOf(startPolling)),\n    switchMapTo(\n      timer(0, 1000).pipe(\n        // Compute diff between polling time and current counter value\n        map(val => state$.value.query.polling.interval - val),\n        takeWhile(val => val >= 0),\n        map(setPollingTimer),\n        repeat(),\n        takeUntil(action$.pipe(ofType(stopPolling)))\n      )\n    )\n  );\n\n/**\n * Execute search with Github\n */\nconst executeSearchEpic: RootEpic = (action$, state$, { github, ajax }) =>\n  action$.pipe(\n    filter(isActionOf(executeSearch.request)),\n    // switchMap ensures we ignore the results of ongoing search requests\n    switchMap(({ payload }) =>\n      state$.value.auth.token?.data\n        ? from(\n            github.query({\n              query: payload,\n              token: state$.value.auth.token.data\n            })\n          ).pipe(\n            map(response => executeSearch.success(response)),\n            catchError(err =>\n              of(\n                executeSearch.failure(`Failed to query Github: ${err.message}`)\n              )\n            )\n          )\n        : of(executeSearch.failure(\"You must be logged in to query Github\"))\n    )\n  );\n\nexport const epics = [\n  setUrl,\n  loadFromUrl,\n  triggerSearchEpic,\n  executeSearchEpic,\n  pollQuery,\n  rehydrationEpic\n];\n","import { QueryState } from \"./query.reducer\";\n\nexport const getQueryFromString = (url: string) =>\n  decodeURIComponent(url)\n    .split(\" \")\n    .map(v => v.split(\":\"))\n    .reduce(\n      (acc, v) => ({\n        ...acc,\n        // Anything aside from 'sort' or 'repo' goes in search\n        ...(v.filter(Boolean).length === 1 || ![\"sort\", \"repo\", \"author\"].includes(v[0])\n          ? {\n            search: acc.search ? `${acc.search} ${v.join(\":\")}` : v.join(\":\")\n          }\n          : // Put anything with a ':' in store under key\n          {\n            [v[0]]: (acc[v[0] as keyof QueryState[\"query\"]] || []).concat(\n              v.slice(1).join(\":\") // rejoin any colons in value\n            )\n          })\n      }),\n      {} as QueryState[\"query\"]\n    );\n","import { combineEpics } from \"redux-observable\";\nimport { epics as authEpics } from \"./auth/auth.epics\";\nimport { epics as queryEpics } from \"./query/query.epics\";\n\nexport const rootEpic = combineEpics(...authEpics, ...queryEpics);\n","const apiBase = process.env.REACT_APP_API_URL;\nif (!apiBase) throw new Error('Variable \"REACT_APP_API_URL\" not set');\nconst clientId = process.env.REACT_APP_GH_CLIENT_ID;\nif (!clientId) throw new Error('Variable \"REACT_APP_GH_CLIENT_ID\" not set');\nconst domain = process.env.REACT_APP_DOMAIN;\nif (!domain) throw new Error('Variable \"REACT_APP_DOMAIN\" not set');\n\nexport default {\n  clientId,\n  domain,\n  searchDebounceMs: 300,\n  basePath: process.env.PUBLIC_URL,\n  api: {\n    auth: `${apiBase}/auth`\n  },\n  paths: {\n    feed: \"/\",\n    login: \"/login\"\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { connectRouter } from \"connected-react-router\";\nimport { History } from \"history\";\nimport auth from \"./auth/auth.reducer\";\nimport query from \"./query/query.reducer\";\n\nexport const rootReducer = (history: History) =>\n  combineReducers({\n    router: connectRouter(history),\n    auth,\n    query\n  });\n","import { ajax } from \"rxjs/ajax\";\nimport config from \"../config\";\nimport { Github } from \"./Github\";\n\nexport const services = {\n  ajax,\n  config,\n  github: new Github()\n};\n","import { graphql } from \"@octokit/graphql\";\n\nexport class Github {\n  query = ({ query, token }: { query: string; token: string }) =>\n    graphql(\n      `\n        query($searchQuery: String!) {\n          search(query: $searchQuery, type: ISSUE, first: 100) {\n            issueCount\n            nodes {\n              ... on Issue {\n                title\n                number\n                repository {\n                  owner {\n                    login\n                  }\n                  name\n                }\n                author {\n                  login\n                  avatarUrl\n                }\n                createdAt\n                closedAt\n                reactions(first: 100) {\n                  edges {\n                    node {\n                      content\n                    }\n                  }\n                }\n                comments {\n                  totalCount\n                }\n              }\n            }\n          }\n        }\n      `,\n      {\n        searchQuery: query,\n        headers: {\n          authorization: `Bearer ${token}`\n        }\n      }\n    ) as Promise<IssuesSearchResult>;\n}\n\nexport interface IssuesSearchResult {\n  search: Search;\n}\ninterface Search {\n  issueCount: number;\n  nodes: IssueNode[];\n}\nexport interface IssueNode {\n  title: string;\n  number: number;\n  repository: Repository;\n  author: Author;\n  createdAt: string;\n  closedAt: string;\n  reactions: Reactions;\n  comments: {\n    totalCount: number;\n  };\n}\ninterface Repository {\n  name: string;\n  owner: {\n    login: string;\n  };\n}\ninterface Author {\n  login: string;\n  avatarUrl: string;\n}\ninterface Reactions {\n  edges?: Array<ReactionEdgesEntity | null> | null;\n}\ninterface ReactionEdgesEntity {\n  node: ReactionsNode;\n}\ninterface ReactionsNode {\n  content: string;\n}\n","import { createStore, applyMiddleware } from \"redux\";\nimport { createEpicMiddleware } from \"redux-observable\";\nimport { persistStore, persistReducer, PersistConfig } from \"redux-persist\";\nimport { createBrowserHistory } from \"history\";\nimport storage from \"redux-persist/lib/storage\";\n\nimport { routerMiddleware as createRouterMiddleware } from \"connected-react-router\";\n\nimport { composeEnhancers } from \"./utils\";\nimport { rootReducer } from \"./root-reducer\";\nimport { rootEpic } from \"./root-epic\";\nimport { services } from \"../services\";\nimport { RootAction, RootState, Services } from \"typesafe-actions\";\n\n// browser history\nexport const history = createBrowserHistory();\n\nexport const epicMiddleware = createEpicMiddleware<\n  RootAction,\n  RootAction,\n  RootState,\n  Services\n>({ dependencies: services });\n\nconst routerMiddleware = createRouterMiddleware(history);\n\n// configure middlewares\nconst middlewares = [epicMiddleware, routerMiddleware];\n\n// compose enhancers\nconst enhancer = composeEnhancers(applyMiddleware(...middlewares));\n\n// rehydrate state on app start\nconst initialState = {};\n\n// Set persistance\nconst persistConfig: PersistConfig<any> = {\n  key: \"root\",\n  storage,\n  whitelist: [\"auth\", \"query\"]\n};\nconst persistedReducer = persistReducer(persistConfig, rootReducer(history));\n\n// create store\nexport const store = createStore(persistedReducer, initialState, enhancer);\nexport const persistor = persistStore(store);\n\n// connect redux-observables\nepicMiddleware.run(rootEpic);\n","import React from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { RootState } from \"typesafe-actions\";\nimport { logout } from \"../store/auth/auth.actions\";\nimport config from \"../config\";\n\nexport const Nav: React.SFC<Props> = ({ isLoggedIn, dispatchLogout }) => (\n  <nav id=\"header\" className=\"navbar\">\n    <ul>\n      <li>\n        <img\n          className=\"logo\"\n          src={`${process.env.PUBLIC_URL}/favicon.png`}\n          alt=\"ds news logo\"\n        />\n        <h1>ds news</h1>\n      </li>\n      <li>\n        <a\n          className=\"selected\"\n          href={`${process.env.PUBLIC_URL}${config.paths.feed}`}\n        >\n          feed\n        </a>\n      </li>\n    </ul>\n    <ul>\n      <li>\n        {isLoggedIn ? (\n          <button onClick={dispatchLogout} className=\"link-button\">\n            logout\n          </button>\n        ) : (\n          <a\n            href={`https://github.com/login/oauth/authorize?client_id=${config.clientId}&redirect_uri=${config.domain}${config.basePath}${config.paths.login}&scope=repo`}\n          >\n            Login with Github\n          </a>\n        )}\n      </li>\n    </ul>\n  </nav>\n);\n\ninterface StateProps {\n  isLoggedIn: boolean;\n}\ninterface DispatchProps {\n  dispatchLogout: typeof logout;\n}\ninterface OwnProps {}\ntype Props = StateProps & DispatchProps & OwnProps;\n\nexport default connect<StateProps, DispatchProps, OwnProps, RootState>(\n  ({ auth }) => ({ isLoggedIn: !!auth.token?.data }),\n  dispatch => bindActionCreators({ dispatchLogout: logout }, dispatch)\n)(Nav);\n","import React, { useEffect } from \"react\";\nimport { RouteComponentProps, Redirect } from \"react-router\";\nimport qs from \"query-string\";\nimport { RootState } from \"typesafe-actions\";\nimport { fetchToken } from \"../store/auth/auth.actions\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { AuthState } from \"../store/auth/auth.reducer\";\nimport config from \"../config\";\n\nconst Login: React.SFC<Props> = ({ location, dispatchfetchToken, token }) => {\n  // Get code from QueryString\n  // TODO: Stop using 'query-string', instead get query from router.location.query in redux\n  const { code } = qs.parse(location.search);\n  const authToken = Array.isArray(code) ? code[0] : code;\n\n  // TODO: Mv this logic to Redux Observables\n  useEffect(() => {\n    if (!authToken) return;\n    dispatchfetchToken(authToken);\n  }, [authToken, dispatchfetchToken]);\n\n  if (!code) {\n    return <p className=\"error\">No code provided. Please login.</p>;\n  }\n  return token?.status === \"FETCHING\" ? (\n    <p>Fetching auth token...</p>\n  ) : token?.status === \"FAILED\" ? (\n    <p className=\"error\">{token.error}</p>\n  ) : (\n    // TODO: Redirect to URL that contains original query state\n    <Redirect to={config.paths.feed} />\n  );\n};\n\ninterface StateProps {\n  token: AuthState[\"token\"];\n}\ninterface DispatchProps {\n  dispatchfetchToken: typeof fetchToken.request;\n}\ninterface OwnProps extends RouteComponentProps<{ code: string }> {}\ntype Props = StateProps & DispatchProps & OwnProps;\n\nexport default connect<StateProps, DispatchProps, OwnProps, RootState>(\n  ({ auth }) => ({ token: auth.token }),\n  dispatch =>\n    bindActionCreators({ dispatchfetchToken: fetchToken.request }, dispatch)\n)(Login);\n","import React from \"react\";\nimport { Emoji } from \"emoji-mart\";\nimport moment from \"moment\";\nimport { IssueNode } from \"../../services/Github\";\n\nconst emojis = {\n  CONFUSED: \":confused:\",\n  EYES: \":eyes:\",\n  HEART: \":heart:\",\n  HOORAY: \":tada:\",\n  LAUGH: \":smile:\",\n  ROCKET: \":rocket:\",\n  THUMBS_DOWN: \":-1:\",\n  THUMBS_UP: \":+1:\"\n};\n\nexport default ({\n  title,\n  number,\n  author,\n  createdAt,\n  closedAt,\n  repository,\n  reactions,\n  comments\n}: Props) => (\n  <li className={closedAt ? \"closed\" : \"\"}>\n    <h6 className=\"mb-0\">\n      <a\n        href={`https://github.com/${repository?.owner.login}/${repository?.name}/issues/${number}`}\n      >\n        {title}\n      </a>\n    </h6>\n\n    <p>\n      <a\n        href={`https://github.com/${repository?.owner.login}/${repository?.name}/issues/${number}`}\n      >\n        <strong>{repository?.name}</strong>#{number}\n      </a>\n      {\" by \"}\n      {/* Author */}\n      <a href={`https://github.com/${author?.login}`}>\n        <img\n          src={author?.avatarUrl}\n          alt={`${author?.login} profile pic`}\n          className=\"mr-1\"\n          style={{\n            maxHeight: \"1rem\",\n            borderRadius: 2,\n            verticalAlign: \"text-top\"\n          }}\n        />\n        {author?.login}\n      </a>{\" \"}\n      {/* Created */}\n      <span title={createdAt!}>{moment(createdAt!).fromNow()}</span>\n      {/* Closed */}\n      {closedAt && (\n        <em className=\"small\" title={closedAt!}>\n          {\" \"}\n          (closed {moment(closedAt).fromNow()})\n        </em>\n      )}\n      {\" | \"}\n      {/* Reactions */}\n      {reactions.edges?.length ? (\n        Object.entries(\n          reactions?.edges?.reduce(\n            (acc, edge) => ({\n              ...acc,\n              [edge?.node.content || \"\"]:\n                (acc[edge?.node.content || \"\"] || 0) + 1\n            }),\n            {} as Record<string, number>\n          ) || {}\n        )\n          .slice()\n          .sort(([r1], [r2]) => (r2 > r1 ? -1 : 1))\n          .map(([reaction, count]) => (\n            <span key={reaction}>\n              <Emoji\n                emoji={emojis[reaction as keyof typeof emojis]}\n                size={16}\n                tooltip\n              />\n              {count > 1 && <sup>{count}</sup>}\n            </span>\n          ))\n      ) : (\n        <em className=\"small\">no reactions</em>\n      )}\n      {\" | \"}\n      <span>\n        {comments.totalCount ? (\n          <>\n            <Emoji emoji={\"speech_balloon\"} size={16} tooltip />\n            {comments.totalCount > 1 && (\n              <sup>\n                {comments.totalCount === 100 ? \"100+\" : comments.totalCount}\n              </sup>\n            )}\n          </>\n        ) : (\n          <em className=\"small\">no comments</em>\n        )}\n      </span>\n    </p>\n  </li>\n);\n\ninterface Props extends IssueNode {}\n","import React, { useState } from \"react\";\nimport moment from \"moment\";\nimport * as actions from \"../../store/query/query.actions\";\nimport { RootState } from \"typesafe-actions\";\n\nconst QueryStatus: React.SFC<{ results: RootState[\"query\"][\"results\"] }> = ({\n  results\n}) => (\n  <div className=\"text-monospace small\">\n    {results &&\n      (results.status === \"FETCHING\"\n        ? \"loading...\"\n        : `${results.asOf.toLowerCase()}`)}\n  </div>\n);\n\nconst RefreshCountdown: React.SFC<{ seconds: number | null }> = ({\n  seconds\n}) => (\n  <div className=\"text-monospace small\" style={{ color: \"#aaa\" }}>\n    refreshing in{\" \"}\n    {seconds\n      ? seconds > 45\n        ? moment()\n            .add(seconds, \"seconds\")\n            .fromNow(true)\n        : `${seconds} seconds`\n      : \"...\"}\n  </div>\n);\n\nconst FilterList: React.SFC<{\n  entries: string[];\n  dispatchRmEntry: (item: string) => void;\n  title: string;\n}> = ({ entries, dispatchRmEntry, title }) => (\n  <ul className=\"list-unstyled\">\n    {entries\n      .slice()\n      .sort()\n      .map((entry, i) => (\n        <li key={i} className=\"overflow-auto text-nowrap\">\n          <span\n            className=\"ml-1 close-link\"\n            title={`remove ${title}`}\n            onClick={() => dispatchRmEntry(entry)}\n          />\n          <pre className=\"ml-1 d-inline\">{entry}</pre>\n        </li>\n      ))}\n  </ul>\n);\n\nconst FilterForm: React.SFC<{\n  dispatchAddEntry: (item: string) => void;\n  placeholder: string;\n}> = ({ dispatchAddEntry, placeholder }) => {\n  const [entry, setEntry] = useState(\"\");\n  return (\n    <form\n      onSubmit={e => {\n        e.preventDefault();\n        dispatchAddEntry(entry);\n        setEntry(\"\");\n      }}\n    >\n      <input\n        type=\"text\"\n        placeholder={placeholder}\n        className=\"small text-monospace w-100 pl-1 mt-2\"\n        value={entry}\n        onChange={e => setEntry(e.currentTarget.value)}\n      />\n    </form>\n  );\n};\n\nexport default ({\n  secondsUntilNextPoll,\n  results,\n  repos,\n  dispatchAddRepo,\n  dispatchRmRepo,\n  authors,\n  dispatchAddAuthor,\n  dispatchRmAuthor\n}: Props) => {\n  return (\n    <ul className=\"col-sm-3 list-unstyled sidebar\">\n      <li className=\"mt-2 \">\n        <h4>last updated</h4>\n        <QueryStatus results={results} />\n        <RefreshCountdown seconds={secondsUntilNextPoll} />\n      </li>\n\n      <li>\n        <h4>Repos</h4>\n        <FilterList\n          title=\"repo\"\n          entries={repos}\n          dispatchRmEntry={dispatchRmRepo}\n        />\n        <FilterForm\n          placeholder=\"owner/repo\"\n          dispatchAddEntry={dispatchAddRepo}\n        />\n      </li>\n\n      <li>\n        <h4>Authors</h4>\n        <FilterList\n          title=\"author\"\n          entries={authors}\n          dispatchRmEntry={dispatchRmAuthor}\n        />\n        <FilterForm\n          placeholder=\"username\"\n          dispatchAddEntry={dispatchAddAuthor}\n        />\n      </li>\n    </ul>\n  );\n};\n\ninterface Props {\n  repos: RootState[\"query\"][\"query\"][\"repo\"];\n  authors: RootState[\"query\"][\"query\"][\"author\"];\n  secondsUntilNextPoll: RootState[\"query\"][\"polling\"][\"count\"];\n  results: RootState[\"query\"][\"results\"];\n  dispatchAddAuthor: typeof actions.addAuthor;\n  dispatchRmAuthor: typeof actions.rmAuthor;\n  dispatchAddRepo: typeof actions.addRepo;\n  dispatchRmRepo: typeof actions.rmRepo;\n}\n","import React from \"react\";\nimport {\n  UncontrolledDropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem\n} from \"reactstrap\";\nimport { QueryState } from \"../../store/query/query.reducer\";\n\nexport default ({ sort, setSort, searchTerm, setSearchTerm }: Props) => {\n  const sortOptions = {\n    created: \"recently created\",\n    updated: \"recently updated\",\n    interactions: \"interactions\",\n    \"reactions-heart\": \"loved\",\n    \"reactions-tada\": \"celebrated\",\n    reactions: \"reactions\",\n    \"reactions-+1\": \"liked\",\n    \"reactions--1\": \"disliked\"\n  };\n  return (\n    <nav className=\"navbar px-1\">\n      <ul className=\"d-flex\" style={{ flexGrow: 1 }}>\n        <li className=\"w-100\">\n          <input\n            placeholder=\"Search\"\n            value={searchTerm}\n            className=\"text-monospace w-100\"\n            onChange={(e: React.FormEvent<HTMLInputElement>) =>\n              setSearchTerm(e.currentTarget.value)\n            }\n          />\n        </li>\n      </ul>\n      <ul className=\"ml-auto\">\n        <li className=\"ml-2\">\n          <UncontrolledDropdown className=\"d-inline\">\n            <DropdownToggle tag=\"a\" className=\"link-button d-inline-block\">\n              most {sortOptions[sort as keyof typeof sortOptions]} â–¼\n            </DropdownToggle>{\" \"}\n            <DropdownMenu>\n              {Object.entries(sortOptions).map(([key, value]) => (\n                <DropdownItem key={key} onClick={() => setSort(key)}>\n                  {value}\n                </DropdownItem>\n              ))}\n            </DropdownMenu>\n          </UncontrolledDropdown>\n        </li>\n      </ul>\n    </nav>\n  );\n};\n\ninterface Props {\n  sort: QueryState[\"query\"][\"sort\"];\n  setSort: (sort: string) => void;\n  searchTerm: QueryState[\"query\"][\"search\"];\n  setSearchTerm: (term: string) => void;\n}\n","import React from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport * as actions from \"../../store/query/query.actions\";\nimport Issue from \"./Issue\";\nimport Sidebar from \"./Sidebar\";\nimport NavFilter from \"./NavFilter\";\nimport { getQueryString } from \"../../store/query/query.selectors\";\nimport { RootState } from \"typesafe-actions\";\n\nexport const Feed: React.SFC<Props> = ({\n  results,\n  query,\n  polling,\n  dispatchSetSort,\n  dispatchSetSearchTerm,\n  dispatchAddRepo,\n  dispatchRmRepo,\n  dispatchAddAuthor,\n  dispatchRmAuthor\n}) => (\n  <div className=\"row no-gutters\">\n    <div className=\"col-sm pr-1\">\n      <NavFilter\n        sort={query.sort}\n        setSort={dispatchSetSort}\n        searchTerm={query.search}\n        setSearchTerm={dispatchSetSearchTerm}\n      />\n      {results?.status === \"FAILED\" ? (\n        <pre>{results.error}</pre>\n      ) : (\n        results?.data && (\n          <ol className=\"issues\">\n            {results.data.search.nodes\n              ?.filter(node => Object.entries(node).length !== 0)\n              .map((node, i) => (\n                <Issue key={i} {...node} />\n              ))}\n          </ol>\n        )\n      )}\n      <code>{getQueryString(query)}</code>\n    </div>\n    <Sidebar\n      results={results}\n      secondsUntilNextPoll={polling.count}\n      repos={query.repo}\n      dispatchAddRepo={dispatchAddRepo}\n      dispatchRmRepo={dispatchRmRepo}\n      authors={query.author}\n      dispatchAddAuthor={dispatchAddAuthor}\n      dispatchRmAuthor={dispatchRmAuthor}\n    />\n  </div>\n);\ninterface StateProps {\n  query: RootState[\"query\"][\"query\"];\n  results: RootState[\"query\"][\"results\"];\n  polling: RootState[\"query\"][\"polling\"];\n}\ninterface DispatchProps {\n  dispatchSetSearchTerm: typeof actions.setSearchTerm;\n  dispatchSetSort: typeof actions.setSort;\n  dispatchAddRepo: typeof actions.addRepo;\n  dispatchRmRepo: typeof actions.rmRepo;\n  dispatchAddAuthor: typeof actions.addAuthor;\n  dispatchRmAuthor: typeof actions.rmAuthor;\n}\ninterface OwnProps extends RouteComponentProps {}\ntype Props = StateProps & DispatchProps & OwnProps;\n\nexport default connect<StateProps, DispatchProps, OwnProps, RootState>(\n  ({ query: { query, results, polling } }) => ({\n    query,\n    results,\n    polling\n  }),\n  dispatch =>\n    bindActionCreators(\n      {\n        dispatchSetSearchTerm: actions.setSearchTerm,\n        dispatchSetSort: actions.setSort,\n        dispatchAddRepo: actions.addRepo,\n        dispatchRmRepo: actions.rmRepo,\n        dispatchAddAuthor: actions.addAuthor,\n        dispatchRmAuthor: actions.rmAuthor\n      },\n      dispatch\n    )\n)(Feed);\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport { store, history } from \"./store/store\";\nimport { ConnectedRouter } from \"connected-react-router\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport Nav from \"./components/Nav\";\nimport Login from \"./views/Login\";\nimport Feed from \"./views/Feed\";\nimport { persistor } from \"./store/store\";\nimport config from \"./config\";\n\nconst App: React.FC = () => {\n  return (\n    <Provider store={store}>\n      <ConnectedRouter history={history}>\n        <PersistGate persistor={persistor} loading={<p>Loading...</p>}>\n          <Router basename={config.basePath}>\n            <Nav />\n            <div className=\"container-fluid\">\n              <Switch>\n                <Route path={config.paths.login} component={Login} />\n                <Route path={config.paths.feed} component={Feed} />\n              </Switch>\n            </div>\n          </Router>\n        </PersistGate>\n      </ConnectedRouter>\n    </Provider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/style.scss\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}